<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

// tweak headings in pymd
document.querySelectorAll(".pymd span.co").forEach(el => {
   if (!el.innerText.startsWith("#|")) {
      el.style.fontWeight = 1000;
   }
});

// Copy helper for module path buttons.
document.addEventListener("click", async (event) => {
  const btn = event.target.closest(".copy-path-btn");
  if (!btn) return;
  const value = btn.getAttribute("data-copy") || "";
  if (!value) return;
  const original = btn.textContent;
  try {
    await navigator.clipboard.writeText(value);
    btn.textContent = "DONE";
    setTimeout(() => { btn.textContent = original; }, 1200);
  } catch (e) {
    btn.textContent = "FAILED";
    setTimeout(() => { btn.textContent = original; }, 1200);
  }
});

</script>
